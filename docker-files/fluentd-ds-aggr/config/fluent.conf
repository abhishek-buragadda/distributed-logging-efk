<source>
  @type forward
  bind 0.0.0.0
  port 24224
</source>

<match kubernetes.var.log.containers.*-lrse-*-deploy-*.*>
  @type elasticsearch
  logstash_format false
  host "#{ENV['FLUENT_ELASTICSEARCH_HOST']}"
  port "#{ENV['FLUENT_ELASTICSEARCH_PORT']}"
  index_name lrse
  type_name logs
  flush_interval 5s
</match>

<match kubernetes.var.log.containers.*-mariadb-*_mariadb-*.*>
  @type elasticsearch
  logstash_format false
  host "#{ENV['FLUENT_ELASTICSEARCH_HOST']}"
  port "#{ENV['FLUENT_ELASTICSEARCH_PORT']}"
  index_name mariadb
  type_name logs
  flush_interval 5s
</match>

<match kubernetes.var.log.containers.*-rabbitmq-*_rabbitmq-*.*>
  @type elasticsearch
  logstash_format false
  host "#{ENV['FLUENT_ELASTICSEARCH_HOST']}"
  port "#{ENV['FLUENT_ELASTICSEARCH_PORT']}"
  index_name rabbitmq
  type_name logs
  flush_interval 5s
</match>
<match kubernetes.var.log.containers.*-mgmt-*_sched-*.*>
  @type elasticsearch
  logstash_format false
  host "#{ENV['FLUENT_ELASTICSEARCH_HOST']}"
  port "#{ENV['FLUENT_ELASTICSEARCH_PORT']}"
  index_name sched
  type_name logs
  flush_interval 5s
</match>

<match kubernetes.var.log.containers.*-billing-*_billing-*.*>
  @type elasticsearch
  logstash_format false
  host "#{ENV['FLUENT_ELASTICSEARCH_HOST']}"
  port "#{ENV['FLUENT_ELASTICSEARCH_PORT']}"
  index_name billing
  type_name logs
  flush_interval 5s
</match>
<match kubernetes.var.log.containers.*-mgmt-*_api-*.*>
  @type elasticsearch
  logstash_format false
  host "#{ENV['FLUENT_ELASTICSEARCH_HOST']}"
  port "#{ENV['FLUENT_ELASTICSEARCH_PORT']}"
  index_name api
  type_name logs
  flush_interval 5s
</match>